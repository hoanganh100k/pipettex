if(null!==document.querySelector(".blockit-pages-action")){const e=document.getElementById("page-form"),t=document.querySelector(".sortable-canvas"),n=document.querySelector(".sortable-library"),a=new URLSearchParams(window.location.search),o=document.getElementById("page-name"),i=document.getElementById("page-type"),l=document.getElementById("page-title"),s=[];function addPage(){"true"==a.get("addPage")&&(o.focus(),showMessageCanvas(),savePage())}function editPage(){const n=JSON.parse(a.get("sections"));"false"==a.get("addPage")&&(e.parentElement.querySelector("h4").innerText=`Edit '${a.get("pageName")}' page item`,o.value=a.get("pageName"),i.value=a.get("layoutType"),l.value=a.get("pageTitle"),n.forEach(e=>{const n=document.createElement("div");n.classList.add("sections-name"),checkIfImageExists(`img/section/${e}.webp`,t=>{t?e.includes("component")?n.innerHTML=`<div class="uk-inline-clip uk-transition-toggle" tabindex="0">\n                            <img class="uk-border-rounded" src="img/section/${e}.webp" alt="${e}">\n                            <div class="uk-transition-fade uk-position-cover uk-flex uk-flex-center uk-flex-middle">\n                                <a href="components.html#${trimTitle(e)}" class="uk-button uk-button-secondary uk-border-rounded" data-uk-toggle><i class="fas fa-wrench fa-sm uk-margin-small-right"></i>Edit ${trimTitle(e)}</a>\n                            </div>\n                        </div>`:n.innerHTML=`<div class="uk-inline-clip uk-transition-toggle" tabindex="0">\n                            <img class="uk-border-rounded" src="img/section/${e}.webp" alt="${e}">\n                            <div class="uk-transition-fade uk-position-cover uk-flex uk-flex-center uk-flex-middle">\n                                <a href="#html-${e}" class="uk-button uk-button-secondary uk-border-rounded" data-uk-toggle><i class="fas fa-code fa-sm uk-margin-small-right"></i>Edit HTML code</a>\n                                <div id="html-${e}" class="uk-modal-container uk-flex-top" data-uk-modal>\n                                    <div class="uk-modal-dialog uk-modal-body uk-margin-auto-vertical uk-border-rounded blockit-code-editor">\n                                        <div id="editor-${e}"></div>\n                                        <div class="uk-flex uk-flex-right">\n                                            <button class="uk-button uk-button-secondary uk-border-rounded uk-modal-close" type="button">Cancel</button>\n                                            <button class="uk-button uk-button-primary uk-border-rounded uk-margin-small-left editor-save-btn" type="button">Save code</button>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>`:(n.parentElement.classList.remove("uk-grid"),n.innerHTML=`<img class="missing-preview" src="img/blockit-missing-section.svg" alt="${e}">\n                        <span class="uk-label uk-label-danger uk-text-small uk-border-rounded">"${e}" doesn't have a preview image.</span>`)}),t.appendChild(n)}),savePage())}function savePage(){document.getElementById("save-page").addEventListener("click",e=>{e.preventDefault();const n=a.get("addPage"),i=t.querySelectorAll(".sections-name"),s=Array.from(i).map(e=>e.getElementsByTagName("img")[0].alt);if(0==o.value.length)o.classList.add("uk-form-danger"),o.addEventListener("click",()=>o.classList.remove("uk-form-danger"));else if(0==l.value.length)l.classList.add("uk-form-danger"),l.addEventListener("click",()=>l.classList.remove("uk-form-danger"));else if(null!==t.querySelector(".img-placeholder")){const e=t.querySelector(".img-placeholder").parentElement;e.classList.add("uk-animation-shake"),setTimeout(()=>{e.classList.remove("uk-animation-shake")},500)}else{const e=t.querySelectorAll("img");let a=[];e.forEach(e=>{const t=e.getAttribute("alt");a.push(JSON.parse(sessionStorage.getItem(t)))}),a=a.filter(e=>null!==e),___browserSync___.socket.emit("saveContentSection",a),a.forEach(e=>sessionStorage.removeItem(e.blocks[0].id)),updatePage(n,s)}})}function updatePage(e,t){const n=document.getElementById("save-page"),s=a.get("pageName");"true"==e?(n.innerHTML='<img class="uk-margin-small-right blockit-spinner" src="img/blockit-spinner.svg" width="16">Loading...',setTimeout(()=>{a.delete("addPage"),a.append("addPage","false"),a.append("pageName",o.value.toLowerCase().replace(/ /g,"-")),a.append("pageTitle",l.value),a.append("layoutType",i.value),a.append("sections",JSON.stringify(t)),location.href="action-page.html?"+a.toString(),___browserSync___.socket.emit("savePageData",o.value.toLowerCase().replace(/ /g,"-"),pageFormat(t,l.value,i.value))},2e3)):"false"==e&&(n.innerHTML='<img class="uk-margin-small-right blockit-spinner" src="img/blockit-spinner.svg" width="16">Loading...',setTimeout(()=>{a.delete("pageName"),a.append("pageName",o.value.toLowerCase().replace(/ /g,"-")),a.delete("pageTitle"),a.append("pageTitle",l.value),a.delete("layoutType"),a.append("layoutType",i.value),a.delete("sections"),a.append("sections",JSON.stringify(t)),location.href="action-page.html?"+a.toString(),___browserSync___.socket.emit("savePageData",o.value.toLowerCase().replace(/ /g,"-"),pageFormat(t,l.value,i.value)),void 0!==s&&s!==o.value.toLowerCase().replace(/ /g,"-")&&___browserSync___.socket.emit("deletePageData",s)},2e3))}function checkIfImageExists(e,t){const n=new Image;n.src=e,n.complete?t(!0):(n.onload=()=>t(!0),n.onerror=()=>t(!1))}function sortUsed(){let e=[],a=[];n.querySelectorAll("img").forEach(t=>{t.closest(".sections-name").removeAttribute("hidden"),e.push(t)}),t.querySelectorAll("img").forEach(e=>a.push(e.alt)),e=e.filter(e=>a.includes(e.alt)),e.forEach(e=>e.closest(".sections-name").setAttribute("hidden",""))}function sectionLibrary(e,t,n){const a=document.querySelector(t).querySelector(".sortable-box");e.sort((e,t)=>e.length-t.length),e.forEach(e=>{const t=document.createElement("div");t.classList.add("sections-name"),t.innerHTML=`<div class="uk-inline-clip uk-transition-toggle" tabindex="0">\n                <img class="uk-border-rounded" src="img/section/${e}.webp" alt="${e}">\n                <div class="uk-transition-fade uk-position-cover uk-flex uk-flex-center uk-flex-bottom">\n                    <span class="uk-text-small" data-uk-toggle>${e}</span>\n                </div>\n            </div>`,a.appendChild(t)}),UIkit.util.on(a,"added",()=>{a.querySelectorAll(".uk-transition-fade").forEach(e=>{const t=e.parentElement.querySelector("img").getAttribute("alt");e.classList.remove("uk-flex-middle"),e.classList.add("uk-flex-bottom"),e.innerHTML=`<span class="uk-text-small" data-uk-toggle>${t}</span>`})}),n()}function createListSections(e,t){const n=e.filter(e=>e.match(/.(hbs)$/i)).map(e=>e.split(".").slice(0,-1).join("."));sectionLibrary(n.filter(e=>e.includes("equity")),"#wrap-exclusive",sortUsed);sectionLibrary(n.filter(e=>e.includes("feature")),"#wrap-feature",sortUsed);sectionLibrary(n.filter(e=>e.includes("content")),"#wrap-content",sortUsed);sectionLibrary(n.filter(e=>e.includes("team")),"#wrap-team",sortUsed);sectionLibrary(n.filter(e=>e.includes("gallery")),"#wrap-gallery",sortUsed);sectionLibrary(n.filter(e=>e.includes("pricing")),"#wrap-pricing",sortUsed);sectionLibrary(n.filter(e=>e.includes("timeline")),"#wrap-timeline",sortUsed);sectionLibrary(n.filter(e=>e.includes("testimonial")),"#wrap-testimonial",sortUsed);sectionLibrary(n.filter(e=>e.includes("client-logo")),"#wrap-client-logo",sortUsed);sectionLibrary(n.filter(e=>e.includes("card")),"#wrap-card",sortUsed);sectionLibrary(n.filter(e=>e.includes("counter")),"#wrap-counter",sortUsed);sectionLibrary(n.filter(e=>e.includes("faq")),"#wrap-faq",sortUsed);const a=[];t.forEach((e,t)=>{0!==e.slides.length&&(e.name="component-slideshow-"+(t+1),a.push(e.name))}),sectionLibrary(a,"#wrap-slideshow",sortUsed)}function showMessageCanvas(){const e=document.createElement("div"),a='\n        <img class="img-placeholder uk-align-center uk-margin-remove-bottom" src="img/in-lazy.gif" data-src="img/blockit-page-placeholder.svg" alt="icon" width="182" data-uk-img>\n        <h5 class="uk-text-muted uk-margin-remove-top">drag & drop the section library here.</h5>';t.removeAttribute("data-uk-sortable"),t.classList.add("uk-flex","uk-flex-center","uk-flex-middle"),e.innerHTML=a,t.appendChild(e),UIkit.util.on(n,"start",(function(){t.setAttribute("data-uk-sortable","group: sortable-group"),t.classList.remove("uk-flex","uk-flex-center","uk-flex-middle"),e.remove()})),UIkit.util.on(t,"removed",(function(){0==t.children.length&&(t.removeAttribute("data-uk-sortable"),t.classList.add("uk-flex","uk-flex-center","uk-flex-middle"),e.innerHTML=a,t.appendChild(e))}))}function listSection(e){let t="";return e.forEach(e=>t+=`\n \t{{> ${e} }}`),t}function pageFormat(e,t,n){return`---\nlayout: ${n}\ntitle: ${t}\n---\n\n<main>${listSection(e)}\n</main>`}function sectionEditor(e,t,n,a){let o=n;null!==JSON.parse(sessionStorage.getItem(a))&&(o=JSON.parse(sessionStorage.getItem(a)));const i=new EditorJS({holder:e,minHeight:0,data:o,tools:{code:CodeMirror},defaultBlock:"code",logLevel:"ERROR"});i.isReady.then(()=>{t(i,a),document.addEventListener("click",e=>{if(e.target.classList.contains("uk-modal-close")||e.target.classList.contains("uk-togglabe-leave")){const e=document.querySelector(".codex-editor");null!==e&&e.remove()}})}).catch(e=>{console.log("Editor.js initialization failed because of "+e)})}function sectionEditorSave(e,t){const n=e.configuration.holder.nextElementSibling.querySelector(".editor-save-btn"),a=e.configuration.holder.parentElement.parentElement.getAttribute("id");n.addEventListener("click",n=>{n.preventDefault(),e.save().then(e=>{const n=document.querySelector(".codex-editor");e.blocks[0].id=t,delete e.time,delete e.version,sessionStorage.setItem(t,JSON.stringify(e)),UIkit.modal("#"+a).hide(),null!==n&&n.remove()})})}function trimTitle(e){return e.split("-")[1]}document.addEventListener("readystatechange",()=>{"complete"==document.readyState&&(___browserSync___.socket.emit("triggerPageData","empty"),___browserSync___.socket.once("sectionPageData",e=>createListSections(e,s)),___browserSync___.socket.once("sectionComponentData",e=>JSON.parse(e).slideshows.forEach(e=>s.push(e))),addPage(),editPage(),UIkit.util.on(t,"added",(function(){t.querySelectorAll(".uk-inline-clip").forEach(e=>{if(e.querySelector(".uk-transition-fade").remove(),null==e.querySelector(".uk-transition-fade")){const t=e.querySelector("img").getAttribute("alt"),n=document.createElement("div");n.classList.add("uk-transition-fade","uk-position-cover","uk-flex","uk-flex-center","uk-flex-middle"),n.innerHTML=`<a href="#html-${t}" class="uk-button uk-button-secondary uk-border-rounded" data-uk-toggle><i class="fas fa-code fa-sm uk-margin-small-right"></i>Edit HTML code</a>\n                        <div id="html-${t}" class="uk-modal-container uk-flex-top" data-uk-modal>\n                            <div class="uk-modal-dialog uk-modal-body uk-margin-auto-vertical uk-border-rounded blockit-code-editor">\n                                <div id="editor-${t}"></div>\n                                <div class="uk-flex uk-flex-right">\n                                    <button class="uk-button uk-button-secondary uk-border-rounded uk-modal-close" type="button">Cancel</button>\n                                    <button class="uk-button uk-button-primary uk-border-rounded uk-margin-small-left editor-save-btn" type="button">Save code</button>\n                                </div>\n                            </div>\n                        </div>`,e.querySelector("img").getAttribute("alt").includes("component")&&(n.innerHTML=`<a href="components.html#${trimTitle(e.querySelector("img").getAttribute("alt"))}" class="uk-button uk-button-secondary uk-border-rounded" data-uk-toggle><i class="fas fa-wrench fa-sm uk-margin-small-right"></i>Edit ${trimTitle(e.querySelector("img").getAttribute("alt"))}</a>`),e.appendChild(n)}})})),document.addEventListener("click",e=>{if(null!==e.target.getAttribute("href")&&e.target.getAttribute("href").includes("#html")){const t=e.target.getAttribute("href").replace("#html","editor"),n=document.getElementById(t),a=t.replace("editor-","");___browserSync___.socket.emit("readContentData",a),___browserSync___.socket.once("processContentData",async e=>{const t=await e;sectionEditor(n,sectionEditorSave,t,a)})}}))})}if(null!==document.querySelector(".blockit-posts-action")){const e=document.getElementById("editor-post"),t=document.getElementById("save-post"),n=new URLSearchParams(window.location.search),a=document.getElementById("post-title"),o=document.getElementById("post-author"),i=document.getElementById("post-category"),l=document.getElementById("post-tags"),s=document.querySelector(".post-image").querySelector("img"),r=document.getElementById("post-share");function addPost(t){if("true"==n.get("addPost")){const n=t.authors,a=t.blog.categories;n.forEach(e=>{const t=document.createElement("option");t.setAttribute("data-id",e.id),t.setAttribute("value",e.name),t.innerHTML=e.name,o.appendChild(t)}),a.forEach(e=>{const t=document.createElement("option");t.setAttribute("value",e),t.innerHTML=e,i.appendChild(t)}),r.checked=!0,window.addEventListener("keydown",e=>{if(("U+000A"==e.keyIdentifier||"Enter"==e.keyIdentifier||13==e.keyCode)&&"INPUT"==e.target.nodeName&&"text"==e.target.type)return e.preventDefault(),!1},!0),postEditor(e,savePost,n)}}function editPost(t){if("false"==n.get("addPost")){const c=t.authors,u=t.blog.categories;c.forEach(e=>{const t=document.createElement("option");t.setAttribute("data-id",e.id),t.setAttribute("value",e.name),t.innerHTML=e.name,o.appendChild(t)}),u.forEach(e=>{const t=document.createElement("option");t.setAttribute("value",e),t.innerHTML=e,i.appendChild(t)}),a.value=n.get("postTitle"),o.value=n.get("postAuthor"),i.value="Uncategorized"==n.get("postCategory")?i.value=0:n.get("postCategory"),l.value="untagged"==n.get("postTags")?l.value="":n.get("postTags").replace(/,/g,", "),s.setAttribute("src",""+("false"===n.get("postImage")?"img/blockit-image-post.svg":"../"+n.get("postImage"))),r.checked="true"==n.get("postShare"),showImageDelete(s),postEditor(e,savePost,c,n.get("postContent"))}}function savePost(e){t.addEventListener("click",t=>{t.preventDefault();const l=n.get("addPost");0==a.value.length?(a.classList.add("uk-animation-shake"),setTimeout(()=>{a.classList.remove("uk-animation-shake")},500)):0==o.value?(o.classList.add("uk-form-danger"),o.addEventListener("click",()=>o.classList.remove("uk-form-danger"))):0==i.value.length?(i.classList.add("uk-form-danger"),i.addEventListener("click",()=>i.classList.remove("uk-form-danger"))):updatePost(l,e,tagFormat)})}function postEditor(e,t,n,a){let o="";void 0!==a&&(o=JSON.parse(a));const i=new EditorJS({holder:e,minHeight:610,placeholder:"Then write your an awesome story!",data:o,authorData:n,tools:{header:{class:Header,inlineToolbar:["link"],config:{placeholder:"Header",levels:[3,4,5]}},image:{class:ImageTool,config:{uploader:{async uploadByFile(e,t){let n="";switch(e.type){case"image/jpeg":n="jpg";break;case"image/png":n="png";break;case"image/gif":n="gif";break;case"image/svg+xml":n="svg"}t=`image-${Math.random().toString(36).slice(2)}.${n}`,___browserSync___.socket.emit("editorJsUpload",e,t);return{success:1,file:{url:"../"+(await fetchRetry("http://localhost:3000/img/user/"+t).then(e=>e)).replace(/^[a-z]{4,5}\:\/{2}[a-z]{1,}\:[0-9]{1,4}.(.*)/,"$1")}}}}}},list:{class:List,inlineToolbar:!0},quote:{class:Quote,inlineToolbar:!1,config:{quotePlaceholder:"Enter a quote",captionPlaceholder:"Quote's author"}},delimiter:Delimiter,table:{class:Table}},logLevel:"ERROR"});i.isReady.then(()=>{t(i)}).catch(e=>{console.log("Editor.js initialization failed because of "+e)})}function fetchRetry(e){return fetch(e).then(t=>t.ok?t.url:404===t.status?fetchRetry(e):void 0).catch(console.warn("image not found! fetch retry... please wait."))}function updatePost(e,c,u){if("true"==e)t.innerHTML='<img class="uk-margin-small-right blockit-spinner" src="img/blockit-spinner.svg" width="16">Loading...',setTimeout(()=>{c.save().then(e=>{const d={title:a.value,link:trimLongTitle(a.value)+".html",author:{id:o.querySelector("option:checked").getAttribute("data-id"),name:o.value,avatar:findAvatar(c)},category:0==i.value?"Uncategorized":i.value,tags:0!==l.value.length?l.value.replace(/\s/g,"").split(","):["untagged"],image:checkImageValue(s),share:!!r.checked},m=trimLongTitle(d.title);Object.assign(d,e);let g=new Date(d.time),p=new Intl.DateTimeFormat("en",{year:"numeric"}).format(g),k=new Intl.DateTimeFormat("en",{month:"long"}).format(g),b=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(g);if(d.date=`${k} ${b}, ${p}`,delete d.version,0==d.blocks.length){const e=document.querySelector(".ce-paragraph");e.classList.add("uk-animation-shake"),setTimeout(()=>{e.classList.remove("uk-animation-shake")},500),t.innerHTML='<i class="fas fa-save fa-sm uk-margin-small-right"></i>Save post'}else n.delete("addPost"),n.append("addPost","false"),n.append("postTitle",a.value),n.append("postAuthor",o.value),n.append("postCategory",0==i.value?"Uncategorized":i.value),n.append("postTags",l.value),n.append("postImage","img/blockit-image-post.svg"!==s.getAttribute("src")&&String(s.getAttribute("src").replace("http://localhost:3000/",""))),n.append("postShare",!!r.checked),n.append("postContent",JSON.stringify(e)),___browserSync___.socket.emit("savePostContent",m,d,u()),location.href="action-post.html?"+n.toString()}).catch(e=>console.error("Saving failed: ",e))},1500);else if("false"==e){const e=n.get("postTitle"),d=trimLongTitle(e);t.innerHTML='<img class="uk-margin-small-right blockit-spinner" src="img/blockit-spinner.svg" width="16">Loading...',setTimeout(()=>{c.save().then(t=>{console.log(l.value);const m={title:a.value,link:trimLongTitle(a.value)+".html",author:{id:o.querySelector("option:checked").getAttribute("data-id"),name:o.value,avatar:findAvatar(c)},category:0==i.value?"Uncategorized":i.value,tags:0!==l.value.length?l.value.replace(/\s/g,"").split(","):["untagged"],image:checkImageValue(s),share:!!r.checked},g=trimLongTitle(m.title);Object.assign(m,t);let p=new Date(m.time),k=new Intl.DateTimeFormat("en",{year:"numeric"}).format(p),b=new Intl.DateTimeFormat("en",{month:"long"}).format(p),v=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(p);m.date=`${b} ${v}, ${k}`,delete m.version,n.delete("postTitle"),n.append("postTitle",a.value),n.delete("postAuthor"),n.append("postAuthor",o.value),n.delete("postCategory"),n.append("postCategory",0==i.value?"Uncategorized":i.value),n.delete("postTags"),n.append("postTags",l.value),n.delete("postImage"),n.append("postImage","img/blockit-image-post.svg"!==s.getAttribute("src")&&String(s.getAttribute("src").replace("http://localhost:3000/",""))),n.delete("postShare"),n.append("postShare",!!r.checked),n.delete("postContent"),n.append("postContent",JSON.stringify(t)),___browserSync___.socket.emit("savePostContent",g,m,u()),void 0!==e&&e!==a.value&&___browserSync___.socket.emit("deletePostData",d,u()),location.href="action-post.html?"+n.toString()}).catch(e=>console.error("Saving failed: ",e))},1500)}}function trimLongTitle(e){return e.toLowerCase().replace(/^(.{50}[^\s]*).*/,"$1").replace(/ /g,"-").replace(/[^a-zA-Z0-9_-]/g,"")}function findAvatar(e){let t="";return e.configuration.authorData.forEach(e=>{e.name==o.value&&(t=e.avatar)}),t}function featuredImage(e){const t=e.closest(".post-image").querySelector("img"),n=e.files[0],a=new FileReader;let o="";switch(n.type){case"image/jpeg":o="jpg";break;case"image/png":o="png";break;case"image/gif":o="gif";break;case"image/svg+xml":o="svg"}const i=`image-post-${Math.random().toString(36).slice(2)}.${o}`;a.readAsArrayBuffer(n),a.onload=async()=>{t.removeAttribute("src"),t.setAttribute("width","32"),t.setAttribute("src","img/blockit-spinner-2.svg"),___browserSync___.socket.emit("assetsProcess",n,i),___browserSync___.socket.once("assetsDone",e=>{t.removeAttribute("width"),t.removeAttribute("src"),t.setAttribute("src",e),showImageDelete(s)})},a.onerror=()=>console.log(a.error)}function checkImageValue(e){let t="";return"img/blockit-image-post.svg"===e.getAttribute("src")?t=!1:(t=e.getAttribute("src").includes("../")?String(e.getAttribute("src").substr(3)):String(e.getAttribute("src").replace("http://localhost:3000/","")),t=removeParam("browsersync",t)),t}function showImageDelete(e){if("img/blockit-image-post.svg"!==e.getAttribute("src")){const t=e.closest(".uk-form-controls").previousElementSibling.querySelector("button"),n=e.nextElementSibling;t.removeAttribute("hidden"),n.setAttribute("hidden","")}}document.addEventListener("readystatechange",()=>{"complete"==document.readyState&&(___browserSync___.socket.emit("readSettingsData","empty"),___browserSync___.socket.once("processSettingsData",async e=>{const t=await e;addPost(t),editPost(t)}),document.addEventListener("change",e=>{e.target.classList.contains("img-post-upload")&&featuredImage(e.target)}),document.addEventListener("click",e=>{if(e.target.classList.contains("delete-image-btn")){e.preventDefault();const t=e.target.closest(".uk-width-1-1").querySelector("img"),n=e.target.closest(".uk-width-1-1").querySelector(".uk-transition-fade");t.setAttribute("src","img/blockit-image-post.svg"),e.target.setAttribute("hidden",""),n.removeAttribute("hidden")}}))})}if(null!==document.querySelector(".blockit-components")){const e=document.getElementById("contact-email-form"),t=document.getElementById("contact-phone-form"),n=document.getElementById("contact-address-form"),a=document.getElementById("contact-map-form"),o=document.getElementById("contact-heading-form");function saveComponents(){const e=document.getElementById("save-components"),t={};e.addEventListener("click",()=>{e.innerHTML='<img class="uk-margin-small-right blockit-spinner" src="img/blockit-spinner.svg" width="16">Loading...',t.slideshows=componentSlideshows(),t.contact=componentContact(),___browserSync___.socket.emit("sendComponentsData",t),setTimeout(()=>{e.innerHTML='<i class="fas fa-save fa-sm uk-margin-small-right"></i>Save components',showNotif('<i class="fas fa-exclamation-circle"></i> Components successfully saved')},1500)})}function componentSlideshows(){let e=0;const t=[];for(;e<4;){const n=document.querySelector(".slide-group-"+(e+1)).querySelectorAll(".slide-form"),a={backgroundImage:"optional",slides:[]};n.forEach(e=>{const t=e.querySelectorAll('input[name="component-slide-stock-radio"]'),n=e.querySelector(".component-slide-notification"),o=e.querySelector(".component-slide-heading"),i=e.querySelector(".component-slide-text"),l=e.querySelector(".component-slide").querySelector("img"),s=e.querySelectorAll(".component-slide-stock-symbol"),r=e.querySelectorAll('img[alt="stockprice-logo"]'),c=removeParam("browsersync",l.getAttribute("src").includes("../")?l.getAttribute("src").substr(3):l.getAttribute("src").replace("http://localhost:3000/",""));a.slides.push({notification:{enabled:0!==n.value.length,text:n.value},heading:o.value,text:i.value,slideImage:c,stockPrice:{enabled:!!t[0].checked,stock:[{symbol:0!==s[0].value.length&&s[0].value,logo:removeParam("browsersync",r[0].getAttribute("src").includes("../")?r[0].getAttribute("src").substr(3):r[0].getAttribute("src").replace("http://localhost:3000/",""))},{symbol:0!==s[1].value.length&&s[1].value,logo:removeParam("browsersync",r[1].getAttribute("src").includes("../")?r[1].getAttribute("src").substr(3):r[1].getAttribute("src").replace("http://localhost:3000/",""))},{symbol:0!==s[2].value.length&&s[2].value,logo:removeParam("browsersync",r[2].getAttribute("src").includes("../")?r[2].getAttribute("src").substr(3):r[2].getAttribute("src").replace("http://localhost:3000/",""))}]}})}),t.push(a),e++}return t}function slideshowForm(e){const t=e.slideshows,n=document.querySelector(".slide-group-nav"),a=document.querySelector(".slide-group-content"),o='\n        <div class="uk-text-center">\n            <img class="missing-list-placeholder uk-margin-remove-bottom" src="http://localhost:3000/blockit/img/blockit-missing-slide.svg" data-src="img/blockit-missing-slide.svg" alt="icon" width="224" data-uk-img="">\n            <h5 class="uk-text-muted uk-margin-remove-top uk-margin-large-bottom">oops!, there is no slide here<br>click "add new slide" to create.</h5>\n        </div>\n        <hr>\n        <div class="uk-width-1-1 uk-flex uk-flex-right uk-margin-small-bottom">\n            <button class="add-slide uk-button uk-button-secondary uk-border-rounded"><i class="fas fa-plus-circle fa-sm uk-margin-small-right"></i>Add new slide</button>\n        </div>';t.forEach((e,t)=>{const i=document.createElement("li"),l=document.createElement("li"),s=document.createElement("hr"),r=document.createElement("div");i.innerHTML=`<a href="#">Group ${t+1}</a>`,n.appendChild(i),l.classList.add("slide-group-"+(t+1)),a.appendChild(l),r.classList.add("uk-width-1-1","uk-flex","uk-flex-right","uk-margin-small-bottom"),r.innerHTML='<button class="add-slide uk-button uk-button-secondary uk-border-rounded"><i class="fas fa-plus-circle fa-sm uk-margin-small-right"></i>Add new slide</button>',e.slides.forEach(e=>{const t=document.createElement("form");t.classList.add("uk-form-stacked","uk-grid-small","uk-margin-large","slide-form"),t.setAttribute("data-uk-grid",""),t.innerHTML=`\n                <div class="uk-width-1-2">\n                    <div class="uk-margin">\n                        <label class="uk-form-label" for="component-slide-notification">Notification text <i class="fas fa-info-circle fa-xs" data-uk-tooltip="title: Leave blank if you don't want use; pos: right"></i></label>\n                        <div class="uk-form-controls">\n                            <input class="uk-input uk-border-rounded component-slide-notification" type="text">\n                        </div>\n                    </div>\n                    <div class="uk-margin">\n                        <label class="uk-form-label" for="component-slide-heading">Heading text</label>\n                        <div class="uk-form-controls">\n                            <input class="uk-input uk-border-rounded component-slide-heading" type="text">\n                        </div>\n                    </div>\n                    <div class="uk-margin">\n                        <label class="uk-form-label" for="component-slide-text">Slide text</label>\n                        <div class="uk-form-controls">\n                            <textarea class="uk-textarea uk-border-rounded component-slide-text" rows="3">${e.text}</textarea>\n                        </div>\n                    </div>\n                    <div class="uk-margin">\n                        <label class="uk-form-label" for="component-slide-stock-radio">Stock price</label>\n                        <div class="uk-form-controls uk-form-controls-text">\n                            <label class="uk-margin-right"><input class="uk-radio" type="radio" value="enable" name="component-slide-stock-radio"> Enable</label>\n                            <label><input class="uk-radio" type="radio" value="disable" name="component-slide-stock-radio"> Disable</label>\n                        </div>\n                    </div>\n                    <div class="uk-margin">\n                        <div class="uk-form-stacked uk-grid-small uk-grid" data-uk-grid>\n                            <div class="uk-width-1-3 uk-flex uk-flex-middle" data-uk-form-custom>\n                                <div class="uk-inline-clip uk-transition-toggle component-slide-stock-logo" tabindex="0">\n                                    <img src="../img/in-lazy.gif" alt="stockprice-logo">\n                                    <div class="uk-transition-fade uk-position-cover uk-flex uk-flex-center uk-flex-middle">\n                                        <input class="img-stocklogo-upload" type="file">\n                                        <button class="uk-button fas fa-camera uk-label uk-border-pill" type="button" tabindex="-1"></button>\n                                    </div>\n                                </div>\n                                <input class="uk-input uk-border-rounded component-slide-stock-symbol" type="text">\n                            </div>\n                            <div class="uk-width-1-3 uk-flex uk-flex-middle" data-uk-form-custom>\n                                <div class="uk-inline-clip uk-transition-toggle component-slide-stock-logo" tabindex="0">\n                                    <img src="../img/in-lazy.gif" alt="stockprice-logo">\n                                    <div class="uk-transition-fade uk-position-cover uk-flex uk-flex-center uk-flex-middle">\n                                        <input class="img-stocklogo-upload" type="file">\n                                        <button class="uk-button fas fa-camera uk-label uk-border-pill" type="button" tabindex="-1"></button>\n                                    </div>\n                                </div>\n                                <input class="uk-input uk-border-rounded component-slide-stock-symbol" type="text">\n                            </div>\n                            <div class="uk-width-1-3 uk-flex uk-flex-middle" data-uk-form-custom>\n                                <div class="uk-inline-clip uk-transition-toggle component-slide-stock-logo" tabindex="0">\n                                    <img src="../img/in-lazy.gif" alt="stockprice-logo">\n                                    <div class="uk-transition-fade uk-position-cover uk-flex uk-flex-center uk-flex-middle">\n                                        <input class="img-stocklogo-upload" type="file">\n                                        <button class="uk-button fas fa-camera uk-label uk-border-pill" type="button" tabindex="-1"></button>\n                                    </div>\n                                </div>\n                                <input class="uk-input uk-border-rounded component-slide-stock-symbol" type="text">\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="uk-width-1-2">\n                    <div class="uk-margin">\n                        <label class="uk-form-label" for="form-author-avatar">Slide image <i class="fas fa-info-circle fa-xs" data-uk-tooltip="title: Use 652 x 746 px image size; pos: right"></i><button class="delete-slide-btn uk-button fas fa-trash-alt uk-label uk-border-pill uk-float-right"></button></label>\n                        <div class="uk-form-controls uk-margin-small-bottom">\n                            <div class="uk-width-1-1" data-uk-form-custom>\n                                <div class="uk-inline-clip uk-transition-toggle component-slide" tabindex="0">\n                                    <img src="../${e.slideImage}" alt="slide-image">\n                                    <div class="uk-transition-fade uk-position-cover uk-flex uk-flex-center uk-flex-middle">\n                                        <input class="img-slide-upload" type="file">\n                                        <button class="uk-button uk-button-secondary uk-border-rounded" type="button" tabindex="-1"><i class="fas fa-upload fa-sm uk-margin-small-right"></i>Upload image</button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                `,t.querySelectorAll('input[name="component-slide-stock-radio"]').forEach(t=>{(1==e.stockPrice.enabled&&"enable"==t.getAttribute("value")||0==e.stockPrice.enabled&&"disable"==t.getAttribute("value"))&&(t.checked=!0)}),t.querySelector("input.component-slide-notification").value=e.notification.text,t.querySelector("input.component-slide-heading").value=e.heading,t.querySelectorAll('img[alt="stockprice-logo"]').forEach((t,n)=>{t.setAttribute("src","../"+e.stockPrice.stock[n].logo)}),t.querySelectorAll(".component-slide-stock-symbol").forEach((t,n)=>{t.value=0==e.stockPrice.stock[n].symbol?"":e.stockPrice.stock[n].symbol}),l.appendChild(t)}),l.appendChild(s),l.appendChild(r),2==l.children.length&&(l.innerHTML=o)}),document.addEventListener("click",e=>{if(e.target.classList.contains("add-slide")){const t=e.target.parentElement.parentElement,n=document.createElement("form");t.children[0].classList.contains("uk-text-center")&&t.children[0].remove(),n.classList.add("uk-form-stacked","uk-grid-small","uk-margin-large","slide-form"),n.setAttribute("data-uk-grid",""),n.innerHTML='\n                <div class="uk-width-1-2">\n                    <div class="uk-margin">\n                        <label class="uk-form-label" for="component-slide-notif-text">Notification text <i class="fas fa-info-circle fa-xs" data-uk-tooltip="title: Leave blank if you don\'t want use; pos: right"></i></label>\n                        <div class="uk-form-controls">\n                            <input class="uk-input uk-border-rounded component-slide-notif-text" type="text">\n                        </div>\n                    </div>\n                    <div class="uk-margin">\n                        <label class="uk-form-label" for="component-slide-heading">Heading text</label>\n                        <div class="uk-form-controls">\n                            <input class="uk-input uk-border-rounded component-slide-heading" type="text">\n                        </div>\n                    </div>\n                    <div class="uk-margin">\n                        <label class="uk-form-label" for="component-slide-text">Slide text</label>\n                        <div class="uk-form-controls">\n                            <textarea class="uk-textarea uk-border-rounded component-slide-text" rows="3"></textarea>\n                        </div>\n                    </div>\n                    <div class="uk-margin">\n                        <label class="uk-form-label" for="component-slide-stock-radio">Stock price</label>\n                        <div class="uk-form-controls uk-form-controls-text">\n                            <label class="uk-margin-right"><input class="uk-radio" type="radio" value="enable" name="component-slide-stock-radio" checked> Enable</label>\n                            <label><input class="uk-radio" type="radio" value="disable" name="component-slide-stock-radio"> Disable</label>\n                        </div>\n                    </div>\n                    <div class="uk-margin">\n                        <div class="uk-form-stacked uk-grid-small uk-grid" data-uk-grid>\n                            <div class="uk-width-1-3 uk-flex uk-flex-middle" data-uk-form-custom>\n                                <div class="uk-inline-clip uk-transition-toggle component-slide-stock-logo" tabindex="0">\n                                    <img src="img/blockit-symbol-logo.svg" alt="stockprice-logo">\n                                    <div class="uk-transition-fade uk-position-cover uk-flex uk-flex-center uk-flex-middle">\n                                        <input class="img-stocklogo-upload" type="file">\n                                        <button class="uk-button fas fa-camera uk-label uk-border-pill" type="button" tabindex="-1"></button>\n                                    </div>\n                                </div>\n                                <input class="uk-input uk-border-rounded component-slide-stock-symbol" type="text">\n                            </div>\n                            <div class="uk-width-1-3 uk-flex uk-flex-middle" data-uk-form-custom>\n                                <div class="uk-inline-clip uk-transition-toggle component-slide-stock-logo" tabindex="0">\n                                    <img src="img/blockit-symbol-logo.svg" alt="stockprice-logo">\n                                    <div class="uk-transition-fade uk-position-cover uk-flex uk-flex-center uk-flex-middle">\n                                        <input class="img-stocklogo-upload" type="file">\n                                        <button class="uk-button fas fa-camera uk-label uk-border-pill" type="button" tabindex="-1"></button>\n                                    </div>\n                                </div>\n                                <input class="uk-input uk-border-rounded component-slide-stock-symbol" type="text">\n                            </div>\n                            <div class="uk-width-1-3 uk-flex uk-flex-middle" data-uk-form-custom>\n                                <div class="uk-inline-clip uk-transition-toggle component-slide-stock-logo" tabindex="0">\n                                    <img src="img/blockit-symbol-logo.svg" alt="stockprice-logo">\n                                    <div class="uk-transition-fade uk-position-cover uk-flex uk-flex-center uk-flex-middle">\n                                        <input class="img-stocklogo-upload" type="file">\n                                        <button class="uk-button fas fa-camera uk-label uk-border-pill" type="button" tabindex="-1"></button>\n                                    </div>\n                                </div>\n                                <input class="uk-input uk-border-rounded component-slide-stock-symbol" type="text">\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="uk-width-1-2">\n                    <div class="uk-margin">\n                        <label class="uk-form-label" for="form-author-avatar">Slide image <i class="fas fa-info-circle fa-xs" data-uk-tooltip="title: Use 652 x 746 px image size; pos: right"></i><button class="delete-slide-btn uk-button fas fa-trash-alt uk-label uk-border-pill uk-float-right"></button></label>\n                        <div class="uk-form-controls uk-margin-small-bottom">\n                            <div class="uk-width-1-1" data-uk-form-custom>\n                                <div class="uk-inline-clip uk-transition-toggle component-slide" tabindex="0">\n                                    <img src="img/in-lazy.gif" alt="slide-image">\n                                    <div class="uk-transition-fade uk-position-cover uk-flex uk-flex-center uk-flex-middle">\n                                        <input class="img-slide-upload" type="file">\n                                        <button class="uk-button uk-button-secondary uk-border-rounded" type="button" tabindex="-1"><i class="fas fa-upload fa-sm uk-margin-small-right"></i>Upload image</button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                ',t.insertBefore(n,t.lastChild.previousElementSibling)}}),document.addEventListener("click",e=>{if(e.target.classList.contains("delete-slide-btn")){const t=e.target.closest(".uk-form-stacked");e.preventDefault(),3==e.target.closest(".uk-active").children.length&&(e.target.closest(".uk-active").innerHTML=o),t.remove()}})}function componentContact(){const i=document.createElement("div");i.innerHTML=a.value;return{address:{title:n.querySelectorAll(".uk-input")[0].value,text:n.querySelectorAll(".uk-input")[1].value},email:{title:e.querySelectorAll(".uk-input")[0].value,address:e.querySelectorAll(".uk-input")[1].value,text:e.querySelectorAll(".uk-input")[2].value},phone:{title:t.querySelectorAll(".uk-input")[0].value,number:t.querySelectorAll(".uk-input")[1].value,text:t.querySelectorAll(".uk-input")[2].value},heading:{text1:o.querySelectorAll(".uk-input")[0].value,text2:o.querySelectorAll(".uk-input")[1].value},mapIframe:a.value,mapSrc:i.children[0].getAttribute("src")}}function contactForm(i){const l=i.contact;n.querySelectorAll(".uk-input")[0].value=l.address.title,n.querySelectorAll(".uk-input")[1].value=l.address.text,e.querySelectorAll(".uk-input")[0].value=l.email.title,e.querySelectorAll(".uk-input")[1].value=l.email.address,e.querySelectorAll(".uk-input")[2].value=l.email.text,t.querySelectorAll(".uk-input")[0].value=l.phone.title,t.querySelectorAll(".uk-input")[1].value=l.phone.number,t.querySelectorAll(".uk-input")[2].value=l.phone.text,o.querySelectorAll(".uk-input")[0].value=l.heading.text1,o.querySelectorAll(".uk-input")[1].value=l.heading.text2,a.innerText=l.mapIframe}function changeSlide(e){const t=e.closest(".component-slide").querySelector("img");console.log(t);const n=e.files[0],a=new FileReader;let o="";switch(n.type){case"image/jpeg":o="jpg";break;case"image/png":o="png";break;case"image/gif":o="gif";break;case"image/svg+xml":o="svg"}const i=`slide-${Math.random().toString(36).slice(2)}.${o}`;a.readAsArrayBuffer(n),a.onload=async()=>{t.removeAttribute("src"),t.setAttribute("width","48"),t.setAttribute("src","img/blockit-spinner-2.svg"),___browserSync___.socket.emit("assetsProcess",n,i),___browserSync___.socket.once("assetsDone",e=>{t.removeAttribute("width"),t.removeAttribute("src"),t.setAttribute("src",e)})},a.onerror=()=>console.log(a.error)}lastSettingsTab(),document.addEventListener("readystatechange",()=>{"complete"==document.readyState&&(___browserSync___.socket.emit("readComponentsData","empty"),___browserSync___.socket.once("processComponentsData",async e=>{const t=await e;slideshowForm(t),contactForm(t)}),document.addEventListener("change",e=>{e.target.classList.contains("img-slide-upload")&&changeSlide(e.target)}),saveComponents())})}if(null!==document.querySelector(".blockit-index")){const e=document.getElementById("pages-data"),t=document.getElementById("posts-data"),n=document.getElementById("authors-data");document.addEventListener("readystatechange",()=>{"complete"==document.readyState&&(___browserSync___.socket.emit("triggerPageData","empty"),___browserSync___.socket.emit("triggerPostData","empty"),___browserSync___.socket.emit("readSettingsData","empty"),___browserSync___.socket.once("listPageData",async t=>{const n=await t.data;e.textContent=n.length}),___browserSync___.socket.once("listPostData",async e=>{const n=await e.data;t.textContent=n.length}),___browserSync___.socket.once("processSettingsData",async e=>{const t=await e.authors;n.textContent=t.length}))})}if(null!==document.querySelector(".blockit-nav")){const e=document.getElementById("add-nav"),t=document.getElementById("apply-nav"),n=document.getElementById("save-nav"),a=document.getElementById("nav-wrap"),o=document.getElementById("nav-form"),i=document.querySelector(".as-parent"),l=document.createElement("div"),s=document.getElementById("input-name"),r=document.getElementById("input-icon"),c=document.getElementById("input-custom"),u=document.getElementById("select-internal"),d=document.getElementById("radio-internal"),m=document.getElementById("radio-custom"),g=document.getElementById("textarea-child"),p=document.querySelector(".toggle-internal"),k=document.querySelector(".toggle-custom"),b=document.querySelector(".toggle-icon"),v=document.querySelector(".toggle-text"),f={nav:[]};function addNav(){e.addEventListener("click",()=>{o.removeAttribute("hidden"),o.querySelector("h4").innerText="Add new menu item",b.setAttribute("hidden",""),v.setAttribute("hidden",""),d.checked=!0,l.remove(),s.value="",u.value="0",c.value="https://",s.focus(),applyAdd(),cancelChanges()})}function addChild(){document.addEventListener("click",e=>{if(e.target.classList.contains("btn-child")){const t=e.target.closest(".wrap-nav").querySelector(".label-name").innerText,n=e.target.closest(".wrap-nav").parentElement,a=e.target.closest(".wrap-nav").nextElementSibling;s.classList.remove("uk-form-danger"),u.classList.remove("uk-form-danger"),c.classList.remove("uk-form-danger"),l.remove(),o.removeAttribute("hidden"),o.querySelector("h4").innerText=`Add child menu in '${t.toLowerCase()}' menu`,d.checked=!0,k.setAttribute("hidden",""),p.removeAttribute("hidden"),b.removeAttribute("hidden"),v.setAttribute("hidden",""),s.value="",u.value="0",c.value="",r.value="",s.focus(),applyAddChild(n,a),cancelChanges()}})}function editNav(){document.addEventListener("click",e=>{if(e.target.classList.contains("btn-edit")){const t=e.target.closest(".wrap-nav").querySelector(".label-name"),n=t.innerText,a=t.getAttribute("data-label-link");s.classList.remove("uk-form-danger"),u.classList.remove("uk-form-danger"),c.classList.remove("uk-form-danger"),o.removeAttribute("hidden"),o.querySelector("h4").innerText=`Edit '${n.toLowerCase()}' menu item`,l.remove(),t.parentElement.classList.contains("parent-nav")?b.setAttribute("hidden",""):b.removeAttribute("hidden"),null!=t.parentElement.nextElementSibling?v.removeAttribute("hidden"):v.setAttribute("hidden",""),s.value=t.innerText,r.value=t.getAttribute("data-label-icon"),null!=t.parentElement.nextElementSibling&&t.parentElement.nextElementSibling.classList.contains("text-nav")?g.value=t.parentElement.nextElementSibling.innerText:g.value="",u.value!==a&&(u.value=a,c.value="",d.checked=!0,k.setAttribute("hidden",""),p.removeAttribute("hidden")),0==u.value.length&&(u.value=0,c.value=a,m.checked=!0,p.setAttribute("hidden",""),k.removeAttribute("hidden")),0!=u.value&&m.checked&&(d.checked=!0),applyEdit(t),cancelChanges()}})}function deleteNav(){document.addEventListener("click",e=>{if(e.target.classList.contains("btn-delete")){const t=e.target.closest(".wrap-nav").parentElement.querySelector(".label-name").innerText,n=e.target.closest(".uk-sortable");confirm(`Are you sure delete ${t} menu?`)&&(e.target.closest(".wrap-nav").parentElement.remove(),showNotif(`<i class="fas fa-exclamation-circle"></i> ${t} menu succesfully deleted`),o.setAttribute("hidden","")),0==n.children.length&&n.classList.contains("as-child")&&n.remove()}})}function cancelChanges(){document.addEventListener("click",e=>{"cancel-nav"==e.target.id&&(e.preventDefault(),o.setAttribute("hidden",""),a.appendChild(l))})}function createNavList(e){const t=JSON.parse(e).nav,n=document.querySelector(".as-parent");function a(e){return`\n            <div class="wrap-nav child-nav">\n                <span class="label-name" data-label-link="${e.link}"${function(e){return void 0!==e.icon?`data-label-icon="${e.icon.name}"`:""}(e)}><i class="fas fa-level-up-alt fa-sm uk-margin-small-right"></i>${e.title}</span>\n                <button class="btn-edit uk-button uk-button-text uk-button-small uk-margin-left">Edit</button>\n                <div class="uk-position-top-right">\n                    <button class="btn-delete uk-button fas fa-trash-alt uk-label uk-border-pill"></button>\n                </div>\n            </div>`}t.forEach(e=>{const t=document.createElement("li");if(t.innerHTML=`\n            <div class="wrap-nav parent-nav">\n                <span class="label-name" data-label-link="${e.link}"><i class="fas fa-bars fa-sm uk-margin-small-right"></i>${e.title}</span>\n                <button class="btn-edit uk-button uk-button-text uk-button-small uk-margin-left">Edit</button>\n                <button class="btn-child uk-button uk-button-text uk-button-small">Add child</button>\n                <div class="uk-position-top-right">\n                    <button class="btn-delete uk-button fas fa-trash-alt uk-label uk-border-pill"></button>\n                </div>\n            </div>`,n.appendChild(t),void 0!==e.dropdown&&void 0!==e.dropdown.single){const n=document.createElement("ul");n.classList.add("as-child","uk-list","uk-margin-medium-left"),n.setAttribute("data-uk-sortable","handle: .child-nav; cls-custom: drag-nav"),t.appendChild(n),e.dropdown.single.forEach(e=>{const t=document.createElement("li");t.innerHTML=a(e),n.appendChild(t)})}if(void 0!==e.dropdown){let n="";if(void 0!==e.dropdown.multiple){const o=document.createElement("ul");o.classList.add("as-child","as-multiple","uk-list","uk-margin-medium-left"),o.setAttribute("data-uk-sortable","handle: .child-nav; cls-custom: drag-nav"),t.appendChild(o),e.dropdown.multiple.forEach(e=>{const t=document.createElement("li");t.innerHTML=a(e),o.appendChild(t),n=o.parentElement})}if(void 0!==e.dropdown.multiple_text){const t=n;e.dropdown.multiple_text.forEach(e=>{const n=document.createElement("div");n.classList.add("wrap-nav","text-nav","uk-margin-medium-left","uk-transition-toggle"),n.setAttribute("tabindex","0"),n.innerText=e.text,t.insertBefore(n,t.children[1])})}}})}function createPageList(e){const t=document.getElementById("select-internal"),n=document.createElement("option");e.forEach(e=>{const n=document.createElement("option");n.setAttribute("value",e.replace(/.hbs$/,".html")),n.innerHTML=e.replace(/.hbs$/,".html"),t.appendChild(n)}),n.setAttribute("value","blog/page-1.html"),n.innerHTML="set as blog",t.insertBefore(n,t.children[1])}function checkLink(){let e;return d.checked?e=u.value:m.checked&&(e=c.value),e}function checkIcon(){let e;return e=0!=r.value.length?`data-label-icon="${r.value}"`:"",e}function checkLinkEdit(e){let t;return d.checked&&e.getAttribute("data-label-link")!=u.value||d.checked?t=u.value:(m.checked&&e.getAttribute("data-label-link")!=c.value||m.checked)&&(t=c.value),t}function linkOptions(){d.addEventListener("click",()=>{k.setAttribute("hidden",""),p.removeAttribute("hidden"),d.checked=!0}),m.addEventListener("click",()=>{p.setAttribute("hidden",""),k.removeAttribute("hidden"),m.checked=!0})}function applyAdd(){t.onclick=e=>{e.preventDefault();const t=document.createElement("li");t.innerHTML=`\n            <div class="wrap-nav parent-nav">\n                <span class="label-name" data-label-link="${checkLink()}"><i class="fas fa-bars fa-sm uk-margin-small-right"></i>${s.value}</span>\n                <button class="btn-edit uk-button uk-button-text uk-button-small uk-margin-left">Edit</button>\n                <button class="btn-child uk-button uk-button-text uk-button-small">Add child</button>\n                <div class="uk-position-top-right">\n                    <button class="btn-delete uk-button fas fa-trash-alt uk-label uk-label-danger uk-border-pill"></button>\n                </div>\n            </div>`,0==s.value.length?(s.classList.add("uk-form-danger"),s.addEventListener("click",()=>s.classList.remove("uk-form-danger"))):d.checked&&0==u.value?(u.classList.add("uk-form-danger"),u.addEventListener("click",()=>u.classList.remove("uk-form-danger"))):m.checked&&0==c.value.length?(c.classList.add("uk-form-danger"),c.addEventListener("click",()=>c.classList.remove("uk-form-danger"))):(i.appendChild(t),o.setAttribute("hidden",""),showNotif(`<i class="fas fa-exclamation-circle"></i> ${s.value} menu succesfully added`),a.appendChild(l))}}function applyAddChild(e,n){t.onclick=t=>{t.preventDefault();const i=document.createElement("ul"),r=document.createElement("li");r.innerHTML=`\n            <div class="wrap-nav child-nav">\n                <span class="label-name" data-label-link="${checkLink()}"${checkIcon()}><i class="fas fa-level-up-alt fa-sm uk-margin-small-right"></i>${s.value}</span>\n                <button class="btn-edit uk-button uk-button-text uk-button-small uk-margin-left">Edit</button>\n                <div class="uk-position-top-right">\n                    <button class="btn-delete uk-button fas fa-trash-alt uk-label uk-label-danger uk-border-pill"></button>\n                </div>\n            </div>`,0==s.value.length?(s.classList.add("uk-form-danger"),s.addEventListener("click",()=>s.classList.remove("uk-form-danger"))):d.checked&&0==u.value?(u.classList.add("uk-form-danger"),u.addEventListener("click",()=>u.classList.remove("uk-form-danger"))):m.checked&&0==c.value.length?(c.classList.add("uk-form-danger"),c.addEventListener("click",()=>c.classList.remove("uk-form-danger"))):null==n?(i.classList.add("as-child","uk-list","uk-margin-medium-left"),i.setAttribute("data-uk-sortable","handle: .child-nav; cls-custom: drag-nav"),i.appendChild(r),e.appendChild(i),o.setAttribute("hidden",""),showNotif(`<i class="fas fa-exclamation-circle"></i> ${s.value} menu succesfully added as child`)):(e.querySelector(".as-child").appendChild(r),o.setAttribute("hidden",""),showNotif(`<i class="fas fa-exclamation-circle"></i> ${s.value} menu succesfully added as child`),a.appendChild(l))}}function applyEdit(e){t.onclick=t=>{t.preventDefault();const n=e.closest(".wrap-nav").parentElement,i=document.createElement("div");null!=e.parentElement.nextElementSibling&&e.parentElement.nextElementSibling.innerText!=g.value&&0!=g.value&&(e.parentElement.nextElementSibling.classList.contains("text-nav")&&e.parentElement.nextElementSibling.remove(),i.classList.add("wrap-nav","text-nav","uk-margin-medium-left","uk-transition-toggle"),i.setAttribute("tabindex","0"),i.innerText=g.value,n.insertBefore(i,e.parentElement.nextElementSibling)),null!=e.parentElement.nextElementSibling&&e.parentElement.nextElementSibling.classList.contains("text-nav")&&0==g.value.length&&e.parentElement.nextElementSibling.remove(),e.innerHTML='<i class="fas fa-bars fa-sm uk-margin-small-right"></i>'+s.value,null!==e.closest(".as-child")&&(e.innerHTML='<i class="fas fa-level-up-alt fa-sm uk-margin-small-right"></i>'+s.value),e.setAttribute("data-label-link",checkLinkEdit(e)),0!=r.value?e.setAttribute("data-label-icon",r.value):b.hasAttribute("hidden")||null==e.getAttribute("data-label-icon")||(r.value=e.getAttribute("data-label-icon")),r.value="",o.setAttribute("hidden",""),showNotif(`<i class="fas fa-exclamation-circle"></i> ${s.value} menu succesfully edit`),a.appendChild(l)}}document.addEventListener("readystatechange",()=>{"complete"==document.readyState&&(___browserSync___.socket.emit("triggerNavigationData","empty"),___browserSync___.socket.once("navData",e=>createNavList(e)),___browserSync___.socket.once("listPageData",e=>createPageList(e)),l.classList.add("nav-placeholder"),l.innerHTML='<img class="uk-align-center" src="img/in-lazy.gif" data-src="img/blockit-navigation-placeholder.svg" alt="icon" width="182" data-uk-img>',a.appendChild(l))}),addNav(),addChild(),editNav(),deleteNav(),linkOptions(),n.addEventListener("click",()=>{const e=i.querySelectorAll(".parent-nav");n.innerHTML='<img class="uk-margin-small-right blockit-spinner" src="img/blockit-spinner.svg" width="16">Loading...',f.nav.splice(0,f.nav.length),e.forEach(e=>{const t={title:e.children[0].innerText,link:e.children[0].attributes[1].textContent};if(f.nav.push(t),null!==e.nextElementSibling){const n=e.nextElementSibling,a=n.querySelectorAll(".child-nav");if(t.dropdown={single:[]},a.forEach(e=>{let n={title:e.children[0].innerText,link:e.children[0].attributes[1].textContent};t.dropdown.single.push(n),void 0!==e.children[0].attributes[2]&&(n.icon={name:e.children[0].attributes[2].textContent})}),n.classList.contains("text-nav")){const e=n.nextElementSibling.querySelectorAll(".child-nav");t.dropdown={multiple:[],multiple_text:[{text:n.innerText}]},e.forEach(e=>{let n={title:e.children[0].innerText,link:e.children[0].attributes[1].textContent};t.dropdown.multiple.push(n),void 0!==e.children[0].attributes[2]&&(n.icon={name:e.children[0].attributes[2].textContent})})}}}),___browserSync___.socket.emit("saveNavigation",f),setTimeout(()=>{n.innerHTML='<i class="fas fa-save fa-sm uk-margin-small-right"></i>Save navigation',showNotif('<i class="fas fa-exclamation-circle"></i> Navigation successfully saved')},1500)})}if(null!==document.querySelector(".blockit-pages")&&null!==document.getElementById("add-page")){function addPage(){document.getElementById("add-page").addEventListener("click",()=>{const e=new URLSearchParams;e.append("addPage","true"),location.href="action-page.html?"+e.toString()})}function editPage(){document.addEventListener("click",e=>{if(e.target.classList.contains("btn-edit")){const t=e.target.closest("tr").querySelector(".page-name").innerText;___browserSync___.socket.emit("editPageData",t),___browserSync___.socket.once("currentPageData",(e,n,a)=>{const o=new URLSearchParams;o.append("addPage","false"),o.append("pageName",t),o.append("pageTitle",a),o.append("layoutType",n),o.append("sections",JSON.stringify(e)),location.href="action-page.html?"+o.toString()})}})}function deletePage(){document.addEventListener("click",e=>{if(e.target.classList.contains("btn-delete")){const t=e.target.closest("tr"),n=t.querySelector(".page-name").innerText,a=t.parentElement.children.length;confirm(`Are you sure delete the "${n}" page?`)&&(___browserSync___.socket.emit("deletePageData",n),t.remove(),document.querySelector(".head-title").innerHTML=`Pages <span class="uk-text-small uk-text-muted">All (${a-1})</span>`,showNotif(`<i class="fas fa-exclamation-circle"></i> ${n} has been successfully deleted`))}})}function createListPages(e){const t=document.querySelector("tbody"),n=/(?<=layout:\s).*/g;if(0==e.length){const e=document.querySelector(".uk-width-1-1"),t=document.createElement("div"),n='\n            <img class="missing-list-placeholder uk-margin-remove-bottom" src="img/in-lazy.gif" data-src="img/blockit-missing-page-post.svg" alt="icon" width="256" data-uk-img>\n            <h5 class="uk-text-muted uk-margin-remove-top">start your creative idea by clicking<br/>the "add new page" button.</h5>';t.classList.add("uk-text-center"),t.innerHTML=n,e.appendChild(t)}document.querySelector(".head-title").innerHTML=`Pages <span class="uk-text-small uk-text-muted">All (${e.length})</span>`,e.forEach(e=>{const a=document.createElement("tr"),o=new Date(e.date);a.innerHTML=`\n            <td>\n                <div class="page-wrapper uk-inline">\n                    <div class="page-icon uk-float-left">\n                        <i class="fas fa-swatchbook"></i>\n                    </div>\n                    <div class="uk-margin-small-left uk-float-left">\n                        <span class="page-name">${e.name}</span>\n                    </div>\n                </div>\n            </td>\n            <td><span class="uk-text-muted">${o.getFullYear()}/${o.getMonth()+1}/${o.getDate()} at ${o.getHours()}:${o.getMinutes()}</span></td>\n            <td><span class="uk-label uk-label-warning uk-text-small uk-border-rounded">${e.content.match(n)}</span></td>\n            <td>\n                <div class="action-wrap uk-flex uk-flex-right">\n                    <button class="btn-edit uk-button uk-button-text uk-button-small"><i class="fas fa-wrench"></i>Edit</button>\n                    <button class="btn-delete uk-button uk-button-text uk-button-small"><i class="fas fa-trash-alt"></i>Delete</button>\n                </div>\n            </td>`,t.appendChild(a)})}document.addEventListener("readystatechange",()=>{"complete"==document.readyState&&(___browserSync___.socket.emit("triggerPageData","empty"),___browserSync___.socket.once("listPageData",async e=>{createListPages(await e.data)}),addPage(),editPage(),deletePage())})}if(null!==document.querySelector(".blockit-posts")){function addPost(){document.getElementById("add-post").addEventListener("click",()=>{const e=new URLSearchParams;e.append("addPost","true"),location.href="action-post.html?"+e.toString()})}function editPost(){document.addEventListener("click",e=>{if(e.target.classList.contains("btn-edit")){const t=e.target.closest("tr").querySelector(".page-name").innerText.toLowerCase().replace(/^(.{50}[^\s]*).*/,"$1").replace(/ /g,"-").replace(/[^a-zA-Z0-9_-]/g,"");___browserSync___.socket.emit("editPostData",t),___browserSync___.socket.once("currentPostData",e=>{const t=JSON.parse(e),n=new URLSearchParams;n.append("addPost","false"),n.append("postTitle",t.title),n.append("postAuthor",t.author.name),n.append("postCategory",t.category),n.append("postTags",t.tags),n.append("postImage",t.image),n.append("postShare",t.share),delete t.title,delete t.author,delete t.category,delete t.tags,delete t.image,delete t.share,n.append("postContent",JSON.stringify(t)),location.href="action-post.html?"+n.toString()})}})}function deletePost(e){document.addEventListener("click",t=>{if(t.target.classList.contains("btn-delete")){const n=t.target.closest("tr"),a=n.querySelector(".page-name").innerText.toLowerCase().replace(/^(.{50}[^\s]*).*/,"$1").replace(/ /g,"-").replace(/[^a-zA-Z0-9_-]/g,""),o=n.parentElement.children.length;confirm(`Are you sure delete the "${n.querySelector(".page-name").innerText}" post?`)&&(___browserSync___.socket.emit("deletePostData",a,e()),___browserSync___.socket.emit("mergePostFiles","empty"),n.remove(),document.querySelector(".head-title").innerHTML=`Posts <span class="uk-text-small uk-text-muted">All (${o-1})</span>`,showNotif(`<i class="fas fa-exclamation-circle"></i> ${a} has been successfully deleted`))}})}function createListPosts(e){const t=document.querySelector("tbody");if(e.sort((e,t)=>new Date(t.date)-new Date(e.date)),0==e.length){const e=document.querySelector(".uk-width-1-1"),t=document.createElement("div"),n='\n            <img class="missing-list-placeholder uk-margin-remove-bottom" src="img/in-lazy.gif" data-src="img/blockit-missing-page-post.svg" alt="icon" width="256" data-uk-img>\n            <h5 class="uk-text-muted uk-margin-remove-top">start your creative idea by clicking<br/>the "add new post" button.</h5>';t.classList.add("uk-text-center"),t.innerHTML=n,e.appendChild(t)}document.querySelector(".head-title").innerHTML=`Posts <span class="uk-text-small uk-text-muted">All (${e.length})</span>`,e.forEach(e=>{const n=document.createElement("tr"),a=new Date(e.date);n.innerHTML=`\n            <td>\n                <div class="page-wrapper uk-inline">\n                    <div class="page-icon uk-float-left">\n                        <i class="fas fa-align-left"></i>\n                    </div>\n                    <div class="uk-margin-small-left uk-float-left">\n                        <span class="page-name">${trimLongTitle(e.title)}</span>\n                    </div>\n                </div>\n            </td>\n            <td><span class="uk-text-muted">${a.getFullYear()}/${a.getMonth()+1}/${a.getDate()} at ${a.getHours()}:${a.getMinutes()}</span></td>\n            <td>${e.author.name}</td>\n            <td><span class="uk-label uk-label-warning uk-text-small uk-border-rounded">${e.category}</span></td>\n            <td>\n                <div class="action-wrap uk-flex uk-flex-right">\n                    <button class="btn-edit uk-button uk-button-text uk-button-small"><i class="fas fa-wrench"></i>Edit</button>\n                    <button class="btn-delete uk-button uk-button-text uk-button-small"><i class="fas fa-trash-alt"></i>Delete</button>\n                </div>\n            </td>`,t.appendChild(n)})}function trimLongTitle(e){let t=e.indexOf(" ",50);return-1==t?e:e.substring(0,t)+" ..."}document.addEventListener("readystatechange",()=>{"complete"==document.readyState&&(___browserSync___.socket.emit("triggerPostData","empty"),___browserSync___.socket.once("listPostData",async e=>{createListPosts(await e.data)}),addPost(),editPost(),deletePost(tagFormat))})}if(null!==document.querySelector(".blockit-settings")){const e=document.getElementById("setting-page-title"),t=document.getElementById("setting-meta-description"),n=document.getElementById("setting-meta-keywords"),a=document.getElementById("setting-meta-author"),o=document.getElementById("setting-meta-themecolor"),i=document.querySelector(".setting-favicon").querySelector("img"),l=document.querySelector(".setting-touch-icon").querySelector("img"),s=document.querySelector(".site-logo-upload"),r=document.querySelector(".favicon-upload"),c=document.querySelector(".touch-icon-upload"),u=document.querySelector(".setting-site-logo").querySelector("img"),d=document.getElementById("setting-logo-width"),m=document.getElementById("setting-logo-height"),g=document.getElementById("setting-signup-title"),p=document.getElementById("setting-signin-title"),k=document.getElementById("setting-signup-url"),b=document.getElementById("setting-signin-url"),v=document.getElementById("setting-copyright"),f=document.querySelectorAll('input[name="setting-footer-link"]'),h=document.querySelectorAll(".setting-footer-link-title"),y=document.querySelectorAll(".setting-footer-link-url"),S=document.querySelectorAll('input[name="setting-footer-payment"]'),_=document.querySelectorAll('[alt="setting-footer-payment"]'),E=document.querySelectorAll(".setting-number-dimension"),x=document.getElementById("editor-footer-html"),L=document.getElementById("footer-editor-btn"),w=document.getElementById("footer-editor-save-btn"),A=document.getElementById("setting-background-color"),T=document.getElementById("setting-primary-color"),C=document.getElementById("setting-secondary-color"),q=document.getElementById("setting-heading-color"),I=document.getElementById("setting-body-text-color"),P=document.getElementById("setting-link-color"),$=[A,T,C,q,I,P,o],B=document.getElementById("setting-category-list"),D=document.getElementById("setting-category-input"),M=document.getElementById("setting-category-btn"),H=document.getElementById("setting-posts-per-page"),N=document.getElementById("setting-widget-categories"),U=document.getElementById("setting-widget-latest"),F=document.getElementById("setting-widget-tags"),R=document.querySelectorAll('input[name="setting-display-author"]'),O=document.querySelectorAll('input[name="setting-display-tags"]'),z=document.querySelectorAll('input[name="setting-display-share"]'),j=document.getElementById("setting-disquss"),J=document.getElementById("setting-social-facebook"),W=document.getElementById("setting-social-twitter"),V=document.getElementById("setting-social-instagram"),Z=document.getElementById("setting-social-linkedin"),K=document.getElementById("setting-social-behance"),Q=document.getElementById("setting-social-whatsapp"),Y=document.getElementById("setting-social-telegram"),G=document.getElementById("setting-social-youtube"),X={},ee={};function saveSettings(e){const t=document.getElementById("save-settings"),n={};t.addEventListener("click",()=>{t.innerHTML='<img class="uk-margin-small-right blockit-spinner" src="img/blockit-spinner.svg" width="16">Loading...',n.siteInfo=settingSiteInfo(),n.colors=settingColors(),n.header=settingHeader(),n.footer=settingFooter(),n.authors=settingAuthors(),n.blog=settingBlog(),n.socialMedia=settingSocialMedia(),console.log(n.blog),___browserSync___.socket.emit("sendSettingsData",n,tagFormat(),e),setTimeout(()=>{t.innerHTML='<i class="fas fa-save fa-sm uk-margin-small-right"></i>Save settings',showNotif('<i class="fas fa-exclamation-circle"></i> Settings successfully saved')},1500)})}function colorPicker(e){e.forEach(e=>{e.addEventListener("input",()=>{const t=e.value.toUpperCase();e.previousElementSibling.style.backgroundColor=t,e.nextElementSibling.textContent=t})})}function settingSiteInfo(){return{pageTitle:e.value,metaDescription:t.value,metaKeywords:n.value.replace(/\s/g,"").split(","),metaAuthor:a.value,metaThemeColor:o.value.toUpperCase(),favicon:i.getAttribute("src").includes("../")?i.getAttribute("src").substr(3):i.getAttribute("src").replace("http://localhost:3000/",""),touchIcon:removeParam("browsersync",l.getAttribute("src").includes("../")?l.getAttribute("src").substr(3):l.getAttribute("src").replace("http://localhost:3000/",""))}}function settingColors(){return{backgroundColor:A.value.toUpperCase(),primaryColor:T.value.toUpperCase(),secondaryColor:C.value.toUpperCase(),headingColor:q.value.toUpperCase(),bodyTextColor:I.value.toUpperCase(),linkColor:P.value.toUpperCase()}}function settingHeader(){return{siteLogo:{src:removeParam("browsersync",u.getAttribute("src").includes("../")?u.getAttribute("src").substr(3):u.getAttribute("src").replace("http://localhost:3000/","")),width:d.value,height:m.value},signup:{title:g.value,url:k.value,external:"http"==k.value.substring(0,4)},signin:{title:p.value,url:b.value,external:"http"==b.value.substring(0,4)}}}function settingFooter(){return{copyrightText:v.value,footerLink:{enabled:!!f[0].checked,link:[{title:h[0].value,url:y[0].value,external:"http"==y[0].value.substring(0,4)},{title:h[1].value,url:y[1].value,external:"http"==y[1].value.substring(0,4)},{title:h[2].value,url:y[2].value,external:"http"==y[2].value.substring(0,4)},{title:h[3].value,url:y[3].value,external:"http"==y[3].value.substring(0,4)},{title:h[4].value,url:y[4].value,external:"http"==y[4].value.substring(0,4)}]},paymentLogo:{enabled:!!S[0].checked,logo:[{src:removeParam("browsersync",_[0].getAttribute("src").includes("../")?_[0].getAttribute("src").substr(3):_[0].getAttribute("src").replace("http://localhost:3000/","")),width:E[2].value,height:E[3].value},{src:removeParam("browsersync",_[1].getAttribute("src").includes("../")?_[1].getAttribute("src").substr(3):_[1].getAttribute("src").replace("http://localhost:3000/","")),width:E[4].value,height:E[5].value}]}}}function settingAuthors(){const e=document.querySelector(".authors-form-wrap").querySelectorAll(".uk-form-stacked"),t=ee.authors,n=[];return e.forEach((e,a)=>{const o=e.querySelector(".setting-author-name"),i=e.querySelector(".setting-author-email"),l=e.querySelector(".setting-author-role"),s=e.querySelector(".setting-profile").querySelector("img"),r=removeParam("browsersync",s.getAttribute("src").includes("../")?s.getAttribute("src").substr(3):s.getAttribute("src").replace("http://localhost:3000/",""));n.push({id:null==t[a]?Math.random().toString(24).slice(8):t[a].id,name:o.value,email:i.value,role:l.value,avatar:r})}),n}function settingBlog(){return{categories:Array.from(B.children).map(e=>e.textContent),postPerPage:H.value,showWidgets:{allHide:!1===N.checked&&!1===U.checked&&!1===F.checked,categories:N.checked,latestPosts:U.checked,tags:F.checked},displayAuthor:!!R[0].checked,displayTag:!!O[0].checked,displayShareButtons:!!z[0].checked,disqussShortname:j.value}}function settingSocialMedia(){return{facebook:J.value,twitter:W.value,instagram:V.value,linkedin:Z.value,behance:K.value,whatsapp:Q.value,telegram:Y.value,youtube:G.value}}function siteInfoForm(s){const r=s.siteInfo;e.value=r.pageTitle,t.textContent=r.metaDescription,n.value=r.metaKeywords.join(", "),s.authors.forEach(e=>{const t=document.createElement("option");t.setAttribute("value",e.name),t.innerHTML=e.name,a.appendChild(t)}),a.value=r.metaAuthor,o.previousElementSibling.style.backgroundColor=r.metaThemeColor,o.value=r.metaThemeColor,o.nextElementSibling.textContent=r.metaThemeColor,i.setAttribute("src","../"+r.favicon),l.setAttribute("src","../"+r.touchIcon)}function colorForm(e){const t=e.colors;A.previousElementSibling.style.backgroundColor=t.backgroundColor,A.value=t.backgroundColor,A.nextElementSibling.textContent=t.backgroundColor,T.previousElementSibling.style.backgroundColor=t.primaryColor,T.value=t.primaryColor,T.nextElementSibling.textContent=t.primaryColor,C.previousElementSibling.style.backgroundColor=t.secondaryColor,C.value=t.secondaryColor,C.nextElementSibling.textContent=t.secondaryColor,q.previousElementSibling.style.backgroundColor=t.headingColor,q.value=t.headingColor,q.nextElementSibling.textContent=t.headingColor,I.previousElementSibling.style.backgroundColor=t.bodyTextColor,I.value=t.bodyTextColor,I.nextElementSibling.textContent=t.bodyTextColor,P.previousElementSibling.style.backgroundColor=t.linkColor,P.value=t.linkColor,P.nextElementSibling.textContent=t.linkColor}function headerForm(e){const t=e.header;u.setAttribute("src","../"+t.siteLogo.src),d.value=t.siteLogo.width,m.value=t.siteLogo.height,g.value=t.signup.title,k.value=t.signup.url,p.value=t.signin.title,b.value=t.signin.url}function footerForm(e){const t=e.footer;v.value=t.copyrightText,f.forEach(e=>{(1==t.footerLink.enabled&&"enable"==e.getAttribute("value")||0==t.footerLink.enabled&&"disable"==e.getAttribute("value"))&&(e.checked=!0)}),h.forEach((e,n)=>{e.value=t.footerLink.link[n].title}),y.forEach((e,n)=>{e.value=t.footerLink.link[n].url}),S.forEach(e=>{(1==t.paymentLogo.enabled&&"enable"==e.getAttribute("value")||0==t.paymentLogo.enabled&&"disable"==e.getAttribute("value"))&&(e.checked=!0)}),_.forEach((e,n)=>{e.setAttribute("src","../"+t.paymentLogo.logo[n].src)}),E[2].value=t.paymentLogo.logo[0].width,E[3].value=t.paymentLogo.logo[0].height,E[4].value=t.paymentLogo.logo[1].width,E[5].value=t.paymentLogo.logo[1].height}function authorForm(e){const t=document.getElementById("add-author"),n=document.querySelector(".authors-form-wrap");e.authors.forEach(e=>{const t=document.createElement("form");t.classList.add("uk-form-stacked","uk-grid-small","uk-margin"),t.setAttribute("data-uk-grid",""),t.innerHTML=`\n            <div class="uk-width-auto uk-flex uk-flex-bottom" data-uk-form-custom>\n                <div class="uk-inline-clip uk-transition-toggle setting-profile" tabindex="0">\n                    <img src="../${e.avatar}" alt="profile-picture">\n                    <div class="uk-transition-fade uk-position-cover uk-flex uk-flex-center uk-flex-middle">\n                        <input class="img-author-upload" type="file">\n                        <button class="uk-button fas fa-camera uk-label uk-border-pill" type="button" tabindex="-1"></button>\n                    </div>\n                </div>\n            </div>\n            <div class="uk-width-1-4">\n                <label class="uk-form-label" for="setting-author-name">Name</label>\n                <div class="uk-form-controls">\n                    <input class="uk-input uk-border-rounded setting-author-name" type="text" value="${e.name}">\n                </div>\n            </div>\n            <div class="uk-width-1-4">\n                <label class="uk-form-label" for="setting-author-email">Email</label>\n                <div class="uk-form-controls">\n                    <input class="uk-input uk-border-rounded setting-author-email" type="text" value="${e.email}">\n                </div>\n            </div>\n            <div class="uk-width-1-4">\n                <label class="uk-form-label" for="setting-author-role">Role</label>\n                <div class="uk-form-controls">\n                    <input class="uk-input uk-border-rounded setting-author-role" type="text" value="${e.role}">\n                </div>\n            </div>\n            <div class="uk-width-expand uk-flex uk-flex-bottom">\n                <button class="uk-button uk-button-default uk-border-rounded delete-author-btn uk-width-1-1"><i class="fas fa-trash-alt fa-sm uk-margin-small-right"></i>Delete</button>\n            </div>\n            `,n.appendChild(t)}),t.addEventListener("click",()=>{const e=document.createElement("form");e.classList.add("uk-form-stacked","uk-grid-small","uk-margin"),e.setAttribute("data-uk-grid",""),e.innerHTML='\n            <div class="uk-width-auto uk-flex uk-flex-bottom" data-uk-form-custom>\n                <div class="uk-inline-clip uk-transition-toggle setting-profile" tabindex="0">\n                    <img src="../img/blockit/blockit-avatar.svg" alt="profile-picture">\n                    <div class="uk-transition-fade uk-position-cover uk-flex uk-flex-center uk-flex-middle">\n                        <input class="img-author-upload" type="file">\n                        <button class="uk-button fas fa-camera uk-label uk-border-pill" type="button" tabindex="-1"></button>\n                    </div>\n                </div>\n            </div>\n            <div class="uk-width-1-4">\n                <label class="uk-form-label" for="setting-author-name">Name</label>\n                <div class="uk-form-controls">\n                    <input class="uk-input uk-border-rounded setting-author-name" type="text">\n                </div>\n            </div>\n            <div class="uk-width-1-4">\n                <label class="uk-form-label" for="setting-author-email">Email</label>\n                <div class="uk-form-controls">\n                    <input class="uk-input uk-border-rounded setting-author-email" type="text">\n                </div>\n            </div>\n            <div class="uk-width-1-4">\n                <label class="uk-form-label" for="setting-author-role">Role</label>\n                <div class="uk-form-controls">\n                    <input class="uk-input uk-border-rounded setting-author-role" type="text">\n                </div>\n            </div>\n            <div class="uk-width-expand uk-flex uk-flex-bottom">\n                <button class="uk-button uk-button-default uk-border-rounded delete-author-btn uk-width-1-1"><i class="fas fa-trash-alt fa-sm uk-margin-small-right"></i>Delete</button>\n            </div>\n            ',n.appendChild(e)}),document.addEventListener("click",e=>{if(e.target.classList.contains("delete-author-btn")){const t=e.target.closest(".uk-form-stacked");e.preventDefault(),t.remove()}})}function blogForm(e){const t=e.blog;t.categories.forEach(e=>{const t=document.createElement("span");t.classList.add("uk-label","uk-border-pill","setting-label-category"),t.innerHTML+=e+'<button class="delete-category uk-button uk-button-text fas fa-times"></button>',B.appendChild(t)}),document.addEventListener("click",e=>{if(e.target.classList.contains("delete-category")){const t=e.target.parentElement;e.preventDefault(),t.classList.add("uk-animation-slide-bottom-small","uk-animation-reverse","uk-animation-fast"),setTimeout(()=>{t.remove()},300)}}),M.addEventListener("click",e=>{if(e.preventDefault(),0==D.value.length)D.classList.add("uk-form-danger"),D.addEventListener("click",()=>D.classList.remove("uk-form-danger"));else{const e=document.createElement("span");e.classList.add("uk-label","uk-border-pill","setting-label-category"),e.innerHTML+=D.value+'<button class="delete-category uk-button uk-button-text fas fa-times"></button>',B.appendChild(e),D.value=""}}),H.value=t.postPerPage,N.checked=t.showWidgets.categories,U.checked=t.showWidgets.latestPosts,F.checked=t.showWidgets.tags,R.forEach(e=>{(1==t.displayAuthor&&"enable"==e.getAttribute("value")||0==t.displayAuthor&&"disable"==e.getAttribute("value"))&&(e.checked=!0)}),O.forEach(e=>{(1==t.displayTag&&"enable"==e.getAttribute("value")||0==t.displayTag&&"disable"==e.getAttribute("value"))&&(e.checked=!0)}),z.forEach(e=>{(1==t.displayShareButtons&&"enable"==e.getAttribute("value")||0==t.displayShareButtons&&"disable"==e.getAttribute("value"))&&(e.checked=!0)}),j.value=t.disqussShortname}function socialMediaForm(e){const t=e.socialMedia;J.value=t.facebook,W.value=t.twitter,V.value=t.instagram,Z.value=t.linkedin,K.value=t.behance,Q.value=t.whatsapp,Y.value=t.telegram,G.value=t.youtube}function footerEditor(e,t,n){let a=n;void 0!==X.blocks&&(a=X);const o=new EditorJS({holder:e,minHeight:0,data:a,tools:{code:CodeMirror},defaultBlock:"code",logLevel:"ERROR"});o.isReady.then(()=>{t(o),document.addEventListener("click",e=>{if(e.target.classList.contains("uk-modal-close")||e.target.classList.contains("uk-togglabe-leave")){const e=document.querySelector(".codex-editor");null!==e&&e.remove()}})}).catch(e=>{console.log("Editor.js initialization failed because of "+e)})}function footerEditorSave(e){w.addEventListener("click",t=>{t.preventDefault(),e.save().then(e=>{const t=document.querySelector(".codex-editor");delete e.time,delete e.version,Object.assign(X,e),UIkit.modal("#setting-footer-html-wrap").hide(),null!==t&&t.remove()})})}function changeSiteLogo(e){const t=e.closest(".uk-grid-small").querySelector("img"),n=e.files[0],a=new FileReader;let o="";switch(n.type){case"image/jpeg":o="jpg";break;case"image/png":o="png";break;case"image/gif":o="gif";break;case"image/svg+xml":o="svg"}const i=`logo-${Math.random().toString(36).slice(2)}.${o}`;a.readAsArrayBuffer(n),a.onload=async()=>{e.nextElementSibling.innerHTML='<img class="uk-margin-small-right blockit-spinner" src="img/blockit-spinner.svg" width="16">Loading...',___browserSync___.socket.emit("assetsProcess",n,i),___browserSync___.socket.once("assetsDone",n=>{t.removeAttribute("src"),t.setAttribute("src",n),e.nextElementSibling.innerHTML='<i class="fas fa-upload fa-sm uk-margin-small-right"></i>Upload logo'})},a.onerror=()=>console.log(a.error)}function changeFavicon(e){const t=e.closest(".uk-grid-small").querySelector("img"),n=e.files[0],a=new FileReader;let o="";switch(n.type){case"image/x-icon":o="ico"}const i=`favicon-${Math.random().toString(36).slice(2)}.${o}`;a.readAsArrayBuffer(n),a.onload=async()=>{e.nextElementSibling.innerHTML='<img class="uk-margin-small-right blockit-spinner" src="img/blockit-spinner.svg" width="16">Loading...',___browserSync___.socket.emit("assetsProcess",n,i),___browserSync___.socket.once("assetsDone",n=>{t.removeAttribute("src"),t.setAttribute("src",n),e.nextElementSibling.innerHTML='<i class="fas fa-upload fa-sm uk-margin-small-right"></i>Upload logo'})},a.onerror=()=>console.log(a.error)}function changeTouchIcon(e){const t=e.closest(".uk-grid-small").querySelector("img"),n=e.files[0],a=new FileReader;let o="";switch(n.type){case"image/png":o="png"}const i=`touch-icon-${Math.random().toString(36).slice(2)}.${o}`;a.readAsArrayBuffer(n),a.onload=async()=>{e.nextElementSibling.innerHTML='<img class="uk-margin-small-right blockit-spinner" src="img/blockit-spinner.svg" width="16">Loading...',___browserSync___.socket.emit("assetsProcess",n,i),___browserSync___.socket.once("assetsDone",n=>{t.removeAttribute("src"),t.setAttribute("src",n),e.nextElementSibling.innerHTML='<i class="fas fa-upload fa-sm uk-margin-small-right"></i>Upload logo'})},a.onerror=()=>console.log(a.error)}function changePaymentLogo(e){const t=e.closest(".setting-footer-payment-logo").querySelector("img"),n=e.files[0],a=new FileReader;let o="";switch(n.type){case"image/jpeg":o="jpg";break;case"image/png":o="png";break;case"image/gif":o="gif";break;case"image/svg+xml":o="svg"}const i=`footer-payment-${Math.random().toString(36).slice(2)}.${o}`;a.readAsArrayBuffer(n),a.onload=async()=>{t.removeAttribute("src"),t.parentElement.classList.add("spinner"),t.setAttribute("src","img/blockit-spinner-2.svg"),___browserSync___.socket.emit("assetsProcess",n,i),___browserSync___.socket.once("assetsDone",e=>{t.removeAttribute("src"),t.parentElement.classList.remove("spinner"),t.setAttribute("src",e)})},a.onerror=()=>console.log(a.error)}function changeAuthor(e){const t=e.closest(".setting-profile").querySelector("img"),n=e.files[0],a=new FileReader;let o="";switch(n.type){case"image/jpeg":o="jpg";break;case"image/png":o="png";break;case"image/gif":o="gif";break;case"image/svg+xml":o="svg"}const i=`author-${Math.random().toString(36).slice(2)}.${o}`;a.readAsArrayBuffer(n),a.onload=async()=>{t.removeAttribute("src"),t.parentElement.classList.add("spinner"),t.setAttribute("src","img/blockit-spinner-2.svg"),___browserSync___.socket.emit("assetsProcess",n,i),___browserSync___.socket.once("assetsDone",e=>{t.removeAttribute("src"),t.parentElement.classList.remove("spinner"),t.setAttribute("src",e)})},a.onerror=()=>console.log(a.error)}lastSettingsTab(),document.addEventListener("readystatechange",()=>{"complete"==document.readyState&&(___browserSync___.socket.emit("readSettingsData","empty"),___browserSync___.socket.once("processSettingsData",async e=>{const t=await e;siteInfoForm(t),colorForm(t),headerForm(t),footerForm(t),authorForm(t),blogForm(t),socialMediaForm(t),Object.assign(ee,t)}),___browserSync___.socket.once("processFooterData",async e=>{const t=await e;L.addEventListener("click",()=>footerEditor(x,footerEditorSave,t))}),s.addEventListener("change",e=>changeSiteLogo(e.target)),r.addEventListener("change",e=>changeFavicon(e.target)),c.addEventListener("change",e=>changeTouchIcon(e.target)),document.addEventListener("change",e=>{e.target.classList.contains("img-author-upload")&&changeAuthor(e.target)}),document.addEventListener("change",e=>{e.target.classList.contains("footer-payment-upload")&&changePaymentLogo(e.target)}),colorPicker($),saveSettings(X))})}